# Account Manager - Obsidian 账单管理插件

一个用于 Obsidian 的账单管理插件，支持按月记录账单并提供汇总功能。

## 功能特性

- 📝 **在编辑器中录入账单** - 直接在 Markdown 编辑器中插入账单编辑器，无需弹窗
- 📊 **月度汇总** - 自动计算每月总收入、总支出和结余
- 🏷️ **分类管理** - 支持自定义分类，按类别统计支出
- 💾 **数据持久化** - 账单数据自动保存到本地
- 📅 **月份切换** - 轻松查看不同月份的账单记录
- ⚙️ **可配置设置** - 自定义货币符号和默认分类

## 安装方法

### 从源码安装

1. 克隆或下载此仓库
2. 在项目目录运行 `npm install` 安装依赖
3. 运行 `npm run build` 构建插件
4. 将整个文件夹复制到 Obsidian 的插件目录：`<vault>/.obsidian/plugins/account-manager/`
5. 在 Obsidian 设置中启用插件

## 使用方法

### 方法一：在编辑器中插入账单编辑器

1. 在任意 Markdown 文件中，使用命令面板（`Cmd/Ctrl + P`）
2. 输入 "插入账单编辑器"
3. 或者手动输入以下代码块：

````markdown
```account-editor
id: account-editor-1
month: 2024-01
```
````

4. 在编辑器中填写账单信息并添加

### 方法二：使用侧边栏视图

1. 使用命令面板（`Cmd/Ctrl + P`）
2. 输入 "打开账单管理"
3. 在侧边栏中查看和管理所有账单

### 方法三：实时预览日账单表格

1. 在月度账单文件中，按照如下结构书写内容：

````markdown
# 2025-01 账单
## 2025-01-01
- 早餐 | 支出 | 餐饮 | 23.50 | 公司食堂
- 工资 | 收入 | 工资 | 5200 | 一月发放

## 2025-01-02
- 打车 | 支出 | 出行 | 45 | -

# 其它记录
...
````

2. 进入实时预览（Live Preview）模式后，插件会自动把第一个 `#` 下的所有 `##` 渲染为交互表格
3. 点击“新增”“编辑”按钮即可在弹窗中维护每日收支，保存后 Markdown 会被自动更新

## 功能说明

### 账单录入

每条账单包含以下信息：
- **日期**：账单发生的日期
- **类型**：收入或支出
- **分类**：账单分类（如：餐饮、交通、工资等）
- **金额**：账单金额
- **备注**：可选说明

### 月度汇总

插件会自动计算：
- 总收入
- 总支出
- 结余（收入 - 支出）
- 按分类的支出统计

### 设置选项

在 Obsidian 设置中可以配置：
- **货币符号**：默认 ¥，可修改为 $、€ 等
- **默认分类**：添加账单时的默认分类

## 开发

```bash
# 安装依赖
npm install

# 开发模式（自动监听文件变化）
npm run dev

# 构建生产版本
npm run build
```

## 许可证

MIT

